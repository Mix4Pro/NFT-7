(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1432],{86687:function(t,e,n){"use strict";var r=n(67294);e.Z=(t=!1)=>{const{0:e,1:n}=(0,r.useState)(t);return{isShowing:e,toggle:function(){n(!e)}}}},77510:function(t,e,n){"use strict";n.d(e,{xX:function(){return U},Q2:function(){return C},hK:function(){return L}});var r=n(8353),o=n(91863);async function a(t){const e=await fetch("".concat(o.r.OPENSEA_API,"/").concat(t),{headers:{"X-API-KEY":"9c4ad2aee78d4745b49ca5e9783c33f9",Accept:"application/json"}});if(!e.ok)throw new Error("API Client Error: ".concat(e.status," ").concat(e.statusText));return e.json()}async function i(t,e,n=0){try{let n=new URLSearchParams;n.set("account_address",t),e&&n.set("cursor",e),n.set("event_type","transfer");return await a("events?".concat(n))}catch(r){if(n>=1)throw r;await i(t,e,n+1)}}var s=n(1162),c=n(59993),l=n(96462),u=n(85242),d=n(95363),v=n(49476),m=n(59917),p=n(4782);new m.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");const f=v.O2.metadata,h=v.O2.core.TokenAccount,_=f.Metadata,y=f.MetadataData;async function w(t,e){const n=e.map((t=>_.getPDA(t))),r=await Promise.all(n),o=await _.getInfos(t,r),a=Array.from(o.values()).map((t=>y.deserialize(t.data))).filter((t=>t.data.uri));return Promise.all(a.map(((t,e)=>fetch(t.data.uri).then((async t=>{if(!t.ok)throw console.error("wow an error happened while fetching solana assets."),new Error("API Client Error");let n=await t.json();return n.mint=a[e].mint,n.amount=1,n})))))}async function g(t,e,n){const r=await function(t,e=0){const n={jsonrpc:"2.0",id:1,method:"qn_fetchNFTsByCreator",params:[{creator:t,page:e+1,perPage:200}]};return fetch(o.r.SOLANA_NETWORK,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((t=>t.json()))}(e,n),a={};return r.result.assets.forEach((t=>{const e="".concat(t.name,"-").concat(t.imageUrl);var n;a[e]||(a[e]={image:t.imageUrl,name:t.name,description:t.description,mint:t.tokenAddress,collection:{name:t.collectionName},properties:{creators:null===(n=t.creators)||void 0===n?void 0:n.map((t=>({address:t})))},needsRefetch:!0})})),{assets:Object.values(a),pageNumber:r.result.pageNumber,totalAssets:r.result.assets.length,totalPages:r.result.totalPages}}async function b(t,e=0){try{const n=new v.ew(o.r.SOLANA_NETWORK,"confirmed");let{assets:r,nftAccounts:a}=await async function(t,e,n,r){const o=(await h.getTokenAccountsByOwner(t,e)).filter((t=>{var e,n;return 1===(null===(e=t.data)||void 0===e||null===(n=e.amount)||void 0===n?void 0:n.toNumber())})).slice(n,n+r);return{assets:await w(t,o.map((t=>t.data.mint))),nftAccounts:o}}(n,t,99*e,99);return{assets:null===r||void 0===r?void 0:r.map((e=>E(e,t))),hasMore:99===(null===a||void 0===a?void 0:a.length)}}catch(n){return console.error(n),{hasError:!0,error:n}}}function k(t,e){var n,r,o;let a=null===(n=t.properties)||void 0===n||null===(r=n.files)||void 0===r||null===(o=r.find((t=>t.uri===e)))||void 0===o?void 0:o.type;return p.YS.includes(a)||(a=p.iQ[a]),a}function E(t,e){var n,r,o,a,i,s,c,l,u,d,v,m,f;let{url:h,mime:_}=function(t){var e;if(t.animation_url)return{url:t.animation_url,mime:k(t,t.animation_url)};let n=null===(e=t.properties)||void 0===e?void 0:e.files;if(n){let t=n.find((t=>{var e,n;return(null===(e=t.type)||void 0===e?void 0:e.startsWith("model/gltf"))||(null===(n=p.iQ[t.type])||void 0===n?void 0:n.startsWith("model/gltf"))}))||n.find((t=>{var e,n;return(null===(e=t.type)||void 0===e?void 0:e.startsWith("video"))||(null===(n=p.iQ[t.type])||void 0===n?void 0:n.startsWith("video"))}))||n.find((t=>{var e,n;return(null===(e=t.type)||void 0===e?void 0:e.startsWith("audio"))||(null===(n=p.iQ[t.type])||void 0===n?void 0:n.startsWith("audio"))}))||n.find((t=>{var e,n;return(null===(e=t.type)||void 0===e?void 0:e.startsWith("text/html"))||(null===(n=p.iQ[t.type])||void 0===n?void 0:n.startsWith("text/html"))}));if(t)return{url:t.uri,mime:p.YS.includes(t.type)?t.type:p.iQ[t.type]}}return{url:t.image,mime:k(t,t.image)}}(t);return{image_preview_url:t.image,image_url:t.image,image_original_url:t.image,sell_orders:[],top_bid:{},animation_url:null!==h&&void 0!==h?h:null,animation_original_url:null!==h&&void 0!==h?h:null,name:null!==(n=t.name)&&void 0!==n?n:"",description:null!==(r=t.description)&&void 0!==r?r:null,external_link:null!==(o=t.external_url)&&void 0!==o?o:null,permalink:t.external_url||(null!=t.mint?"https://explorer.solana.com/address/".concat(t.mint):null),asset_contract:{address:null!==(a=t.mint)&&void 0!==a?a:null},token_id:t.name+"@".concat(t.mint),owner:{address:e||(null===(i=t.owners)||void 0===i?void 0:i[0].owner)||"",user:{profile_img_url:"/images/avatar.png"}},creator:{address:null!==(s=null===(c=t.properties)||void 0===c||null===(l=c.creators)||void 0===l||null===(u=l[0])||void 0===u?void 0:u.address)&&void 0!==s?s:"",user:{profile_img_url:"/images/avatar.png"}},collection:{name:null!==(d=null===(v=t.collection)||void 0===v?void 0:v.name)&&void 0!==d?d:"",image_url:(null===(m=t.collection)||void 0===m?void 0:m.image_url)||"",external_url:(null===(f=t.collection)||void 0===f?void 0:f.external_url)||""},isOwned:!0,blockchain:"solana",account_base_url:"https://explorer.solana.com/address",mime_type:_,supply:t.amount,needsRefetch:t.needsRefetch}}var O=n(97323),A=n(73490);const P=500,j="\n    token_id\n    artifact_uri\n    thumbnail_uri\n    timestamp\n    mime\n    name\n    description\n    display_uri\n    supply\n    creators {\n        creator_address\n        holder {\n            address\n            description\n            discord\n            tzdomain\n            alias\n            twitter\n        }\n    }\n    fa {\n        contract\n        name\n        path\n        logo\n\n    }\n    pk\n",R=t=>"query collectorGallery($address: String!) {\n    token_creator(where: {creator_address: {_eq: $address}}, order_by: {token: {token_id: desc}}, limit: ".concat(P,", offset: ").concat(t,") {\n        token {\n            ").concat(j,"\n        }\n    }\n}"),x=t=>'query collectorGallery($address: String!) {\n    token_holder(where: {quantity: {_gt: "0"}, holder_address: {_eq: $address}}, order_by: {token: {token_id: desc}}, limit: '.concat(P,", offset: ").concat(t,") {\n        token {\n            ").concat(j,"\n        }\n    }\n}"),I=(t,e)=>{const n=36===(null===(r=t)||void 0===r?void 0:r.length)&&r.startsWith("KT")?"contract":"path";var r;return"query tokenById($collection: String!, $id: String!) {\n        token(where: {token_id: {_eq: $id}, fa: {".concat(n,": {_eq: $collection}}}) {\n            ").concat(j,"\n            ").concat('\n    asks(where: {status: {_eq: "active"}, amount: {_gte: 1}}, order_by: {price: asc}) {\n        id\n        amount\n        price\n        seller_address\n        timestamp\n        expiry\n        status\n    }\n    offers(where: {status: {_eq: "active"}}, order_by: { price: desc }) {\n        id\n        price\n        buyer_address\n        timestamp\n        expiry\n        status\n    }\n    royalties {\n        receiver_address\n        amount\n        decimals\n    }\n',"\n        }\n      }")};function S(t){var e;return!("tezosdomains"===(null===t||void 0===t||null===(e=t.fa)||void 0===e?void 0:e.path))}async function N(t){let e=await fetch("https://data.objkt.com/v2/graphql",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});if(!e.ok)throw console.error("wow an error happened while fetching tezos assets."),new Error("API Client Error");const n=await e.json();if(null!==n&&void 0!==n&&n.data)return n;{var r,o,a;const t=(null===n||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===n||void 0===n||null===(o=n.errors)||void 0===o||null===(a=o[0])||void 0===a?void 0:a.message)||"Server error";throw new Error(t)}}async function T(t,e,n=0){let r=e*P;try{var o;return null===(o=(await N({query:R(r),variables:{address:t}})).data)||void 0===o?void 0:o.token_creator}catch(a){if(n>=1)throw a;await T(t,e,n+1)}}async function W(t,e,n){var r,o,a,i,s,c,l,u,d,v,m;let p,f,h,_,y=(0,A.Ct)(t.display_uri||(null===(r=t.mime)||void 0===r?void 0:r.includes("image"))&&t.artifact_uri||t.thumbnail_uri),w=await M(t,"thumb",y);null!==(o=t.mime)&&void 0!==o&&o.includes("video")||null!==(a=t.mime)&&void 0!==a&&a.includes("audio")||null!==(i=t.mime)&&void 0!==i&&i.includes("model")||"application/x-directory"===t.mime?(p=(0,A.Ct)(t.artifact_uri),h=await M(t,"artifact",p),f=y,_=y):(p=null,h=null,f=(0,A.Ct)(t.artifact_uri),_=await M(t,"artifact",f)),"application/x-directory"===(null===t||void 0===t?void 0:t.mime)&&(t.mime=null);let g=t.fa,b=null===g||void 0===g?void 0:g.logo;null!==(s=b)&&void 0!==s&&s.startsWith("ipfs://")?b=(0,A.Ct)(null===g||void 0===g?void 0:g.logo):null!==(c=b)&&void 0!==c&&c.startsWith("assets/logo")&&(b="https://objkt.com/".concat(null===g||void 0===g?void 0:g.logo));let k,E=g.path||g.contract,O="https://objkt.com/asset/".concat(E,"/").concat(t.token_id),P="https://objkt.com/collection/".concat(E);var j,R,x;n?k=null===(j=t.creators)||void 0===j||null===(R=j.find((t=>t.creator_address===n)))||void 0===R?void 0:R.holder:k=null===(x=t.creators[0])||void 0===x?void 0:x.holder;return{image_preview_url:w,image_original_preview_url:y,image_url:_,image_original_url:f,sell_orders:t.asks,buy_orders:t.offers,top_bid:{},animation_url:h,animation_original_url:p,name:t.name,description:t.description,external_link:O,permalink:O,asset_contract:{address:E},token_id:t.token_id,owner:{address:e,user:{profile_img_url:"https://services.tzkt.io/v1/avatars2/".concat(e)}},creator:{address:null===(l=k)||void 0===l?void 0:l.address,user:{username:(null===(u=k)||void 0===u?void 0:u.alias)||(null===(d=k)||void 0===d?void 0:d.tzdomain)||"",profile_img_url:"https://services.tzkt.io/v1/avatars2/".concat((null===(v=k)||void 0===v?void 0:v.tzdomain)||(null===(m=k)||void 0===m?void 0:m.alias))}},collection:{name:null===g||void 0===g?void 0:g.name,image_url:b,external_url:P,address:null===g||void 0===g?void 0:g.contract},isOwned:!!e,blockchain:"tezos",marketplace:"objkt",account_base_url:"https://objkt.com/profile",mimeType:t.mime,mime_type:t.mime,supply:t.supply,needsRefetch:null===t||void 0===t?void 0:t.needsRefetch,raw_asset:t}}const q={artifact:"artifact_uri",display:"display_uri",thumb:"artifact_uri"};async function M(t,e,n){const{fa:{contract:r},token_id:o,mime:a}=t;if(null===r||void 0===r||!r.length||null===o||void 0===o||!o.length||!(null!==a&&void 0!==a&&a.startsWith("image")||null!==a&&void 0!==a&&a.startsWith("video")||null!==a&&void 0!==a&&a.startsWith("audio")))return n;let i=t[q[e]];if(null==i)return n;let s,c=e;return"thumb"===e&&(c="thumb288"),s=(0,A.bf)(i)?(0,A.Ez)(i):await(0,O.q4)(i),"".concat("https://assets.objkt.media/file/assets-003","/").concat(s,"/").concat(c)}async function C(t,e){const n=(0,s.R)(t);switch(n){case"ethereum":return"rarible"===e?(0,d.Bs)(t):"nftport"===e?(0,c.Jh)(t):async function(t){var e=[];let n,r=[],o=null,a=!1;try{do{var s,c,l;o=await i(t,null===(c=o)||void 0===c?void 0:c.next),null!=(null===(l=o)||void 0===l?void 0:l.asset_events)&&(r=r.concat(o.asset_events))}while(null!==(s=o)&&void 0!==s&&s.next)}catch(u){console.error(u),a=!0,n=u.message}return r.forEach(((t,n)=>{var r,o,a,i,s,c=(null===t||void 0===t||null===(r=t.asset)||void 0===r||null===(o=r.asset_contract)||void 0===o?void 0:o.address)+"/"+(null===t||void 0===t||null===(a=t.asset)||void 0===a?void 0:a.token_id);const l="transfer"==(null===t||void 0===t?void 0:t.event_type)&&"NullAddress"==(null===t||void 0===t||null===(i=t.from_account)||void 0===i||null===(s=i.user)||void 0===s?void 0:s.username);null!==t&&void 0!==t&&t.asset&&!e.includes(c)&&l&&(t.asset.needsRefetch=!0,e.push(null===t||void 0===t?void 0:t.asset))})),{hasError:a,error:n,assets:e,hasMore:!1}}(t);case"tezos":return async function(t){let e,n,r=!0,o=0,a=[];try{for(;r;){let e=await T(t,o);if(r=(null===e||void 0===e?void 0:e.length)>=P,null!=e){const n=await Promise.all(e.filter((({token:t})=>S(t))).map((({token:e})=>W(e,null,t))));a=a.concat(n),o++}}}catch(i){console.error("Got a server error while querying created assets",i),e=!0,n=i.message}return{hasError:e,error:n,assets:a,hasMore:!1}}(t);case"niftygateway":return(0,l.Sy)(t);case"solana":return async function(t,e=0){try{new v.ew(o.r.SOLANA_NETWORK,"confirmed");const{assets:n,totalPages:r,pageNumber:a}=await g(0,t,e);return{assets:n.map((t=>E(t,""))),hasError:!1,hasMore:a<r,error:null}}catch(n){return console.error(n),{assets:[],hasError:!0,hasMore:!1,error:"Something weird with solana is happening..."}}}(t);default:throw new Error("Unkown blockchain "+n)}}async function L(t,e){const n=(0,s.R)(t);switch(n){case"ethereum":return async function(t,e=0){try{var n;let r=50*e;const o=await a("assets?owner=".concat(t,"&limit=").concat(50,"&offset=").concat(r));return{assets:null===o||void 0===o?void 0:o.assets,hasMore:50===(null===o||void 0===o||null===(n=o.assets)||void 0===n?void 0:n.length)}}catch(r){return{hasError:!0,error:r}}}(t,e);case"tezos":return async function(t,e=0){try{var n,r,o;let a=e*P,i=null===(n=(await N({query:x(a),variables:{address:t}})).data)||void 0===n?void 0:n.token_holder;return{assets:await Promise.all(null===i||void 0===i||null===(r=(o=i.filter((({token:t})=>S(t)))).map)||void 0===r?void 0:r.call(o,(({token:e})=>W(e,t,null)))),hasMore:(null===i||void 0===i?void 0:i.length)===P}}catch(a){return console.error("Got a server error while querying owned assets",a),{hasError:!0,error:a}}}(t,e);case"niftygateway":return(0,l.f3)(t,e);case"solana":return b(t,e);default:throw new Error("Unkown blockchain "+n)}}async function U(t,e,n,i,l){const m=(0,s.R)(t);switch(m){case"ethereum":return"rarible"===i?(0,d._8)(t,e,n):"matic"===i||"klaytn"===i?(0,u.Xc)(i,t,e,n):"autograph"===i?(0,r.iI)(t,e,n,l):"nftport"===i?(0,c.D_)(t,e,n):async function(t,e){try{const n=await a("asset/".concat(t,"/").concat(e));return n.token_id?{success:!0,asset:n}:{success:!1}}catch(n){return console.error(n),{success:!1}}}(e,n);case"solana":return async function(t,e){try{const n=new v.ew(o.r.SOLANA_NETWORK,"confirmed"),r=await w(n,[e]);return 0===r.length?{success:!1}:{success:!0,asset:E(r[0],t)}}catch(n){return{success:!1,error:n}}}(t,e);case"tezos":return async function(t,e,n){try{var r,o;let a=await N({query:I(e),variables:{collection:e,id:n}});if(null===a||void 0===a||null===(r=a.data)||void 0===r||null===(o=r.token)||void 0===o||!o.length)return;let i=a.data.token[0];return{success:!0,asset:await W(i,t,null)}}catch(a){return console.error(a),{success:!1,error:a}}}(t,e,n);default:throw new Error("No refetch support for blockchain "+m)}}},59993:function(t,e,n){"use strict";n.d(e,{D_:function(){return i},Jh:function(){return a},Y5:function(){return o}});const r="/api/assets/nftport";async function o(t){return fetch("".concat(r,"?type=byOwner&owner=").concat(t)).then((t=>t.json()))}async function a(t){return fetch("".concat(r,"?type=byCreator&creator=").concat(t)).then((t=>t.json()))}async function i(t,e,n){return fetch("".concat(r,"?type=byId&owner=").concat(t,"&address=").concat(e,"&tokenId=").concat(n)).then((t=>t.json()))}},85242:function(t,e,n){"use strict";n.d(e,{O6:function(){return a},Xc:function(){return i}});const r="https://api.opensea.io/api/v2";async function o(t){const e=await fetch(t,{headers:{"X-API-KEY":"9c4ad2aee78d4745b49ca5e9783c33f9",Accept:"application/json"}});if(!e.ok)throw new Error("API Client Error: ".concat(e.status," ").concat(e.statusText));return e.json()}async function a(t,e,n=0){try{let n=[],i=await o("".concat(r,"/assets/").concat(t,"?owner_address=").concat(e));for(n=n.concat(i.results);i.next;)try{let a=new URL(i.next);const s=new URLSearchParams;s.set("owner_address",e),s.set("cursor",a.searchParams.get("cursor")),i=await o("".concat(r,"/assets/").concat(t,"?").concat(s)),n=n.concat(i.results)}catch(a){console.error("DIDNT GET IT"),console.error(a);break}return n.forEach((e=>{e.marketplace=t})),{assets:n,hasMore:!1}}catch(i){return{hasError:!0,error:i}}}async function i(t,e,n,a){try{let i=await o("".concat(r,"/assets/").concat(t,"?owner_address=").concat(e,"&asset_contract=").concat(n)),s=i.results.find((t=>t.token_id===a));for(;!s&&i.next;)i=await o(i.next.replace("api2","api").replace("api3","api")),s=i.results.find((t=>t.token_id===a));return s?(s.marketplace=t,{success:!0,asset:s}):{success:!1}}catch(i){return console.error(i),{success:!1}}}},95363:function(t,e,n){"use strict";n.d(e,{Bs:function(){return v},_8:function(){return m},vl:function(){return d}});var r=n(59499),o=n(91863);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t){return null!==t&&void 0!==t&&t.startsWith("ipfs")?"https://ipfs.io/ipfs/".concat(t.split("//")[1]):t}function c(t,e){var n,r,o,a;let c=function(t){var e,n;let r,o,a,i,c,l;return t.forEach((t=>{var e,n;if("VIDEO"===t["@type"])"ORIGINAL"===t.representation?c=s(t.url):i=s(t.url),l=null===(e=t.mimeType)||void 0===e||null===(n=e.split(";"))||void 0===n?void 0:n[0];else if("IMAGE"===t["@type"]){var u,d;"PREVIEW"===t.representation?a=s(t.url):("ORIGINAL"===t.representation?o=s(t.url):"BIG"===t.representation&&(r=s(t.url)),l||(l=null===(u=t.mimeType)||void 0===u||null===(d=u.split(";"))||void 0===d?void 0:d[0]))}})),{image_preview_url:a,image_original_url:o,image_url:null!==(e=r)&&void 0!==e?e:o,animation_original_url:c,animation_url:null!==(n=i)&&void 0!==n?n:c,mime_type:l}}(t.meta.content),[l,u,d]=t.id.split(":"),v=null===(n=t.creators)||void 0===n||null===(r=n[0])||void 0===r||null===(o=r.account)||void 0===o||null===(a=o.split(":"))||void 0===a?void 0:a[1];const m="https://rarible.com/token/".concat(u,":").concat(d,"?tab=details"),p="https://rarible.com/collection/".concat(u);return i(i({},c),{},{sell_orders:[],top_bid:{},name:t.meta.name,description:t.meta.description,external_link:m,permalink:m,asset_contract:{address:u},token_id:d,owner:{address:e,user:{profile_img_url:"/images/avatar.png"}},creator:{address:v,user:{profile_img_url:"/images/avatar.png"}},collection:{name:null,image_url:null,external_url:p},isOwned:!!e,blockchain:null===l||void 0===l?void 0:l.toLowerCase(),marketplace:"rarible",account_base_url:"https://rarible.com/user",supply:t.supply})}function l(t){if(!t.ok)throw new Error("API Client Error");return t.json()}function u(t){var e,n,r;return"ENS"!==(null===(e=t.contract)||void 0===e?void 0:e.name)&&(null===(n=t.meta)||void 0===n||null===(r=n.content)||void 0===r?void 0:r.length)}async function d(t,e="ETHEREUM"){try{let n=new URLSearchParams;n.set("owner","".concat(e,":").concat(t)),n.set("blockchains","ETHEREUM");let r="".concat(o.r.RARIBLE_API_V01,"/items/byOwner?").concat(n);return{assets:(await fetch(r).then(l)).items.filter(u).map((e=>c(e,t))),hasMore:!1}}catch(n){return{hasError:!0,error:n}}}async function v(t,e="ETHEREUM"){let n,r=[],a=!1;try{let n=new URLSearchParams;n.set("creator","".concat(e,":").concat(t)),n.set("blockchains","ETHEREUM");let a="".concat(o.r.RARIBLE_API_V01,"/items/byCreator?").concat(n);r=(await fetch(a).then(l)).items.map((e=>c(e,t)))}catch(i){console.error(i),a=!0,n=i.message}return{hasError:a,error:n,assets:r,hasMore:!1}}async function m(t,e,n,r="ETHEREUM"){try{let a="".concat(o.r.RARIBLE_API_V01,"/items/").concat(r,":").concat(e,":").concat(n);return{success:!0,asset:c(await fetch(a).then(l),t)}}catch(a){return console.error(a),{success:!1,error:a}}}},28186:function(){},81916:function(){},11922:function(){},71456:function(){},55024:function(){}}]);